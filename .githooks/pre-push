#!/usr/bin/env bash
set -euo pipefail

if [[ "${SKIP_LOCAL_PRE_PUSH:-}" == "1" ]]; then
  echo "[pre-push] Skipping local pre-push checks (SKIP_LOCAL_PRE_PUSH=1)."
  exit 0
fi

echo "[pre-push] Running lint, audit, TypeScript, and coverage gates..."
npm run hooks:pre-push
